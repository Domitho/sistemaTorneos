{% extends 'plantilla.html' %}

{% block contenido %}
<h3 class="mb-4">Registrar Equipo</h3>

<form id="form-equipo" method="post" action="{% url 'guardar_equipo' %}">
    {% csrf_token %}
    <div class="mb-3">
        <label>Nombre</label>
        <input type="text" class="form-control" name="nombre" id="nombre"
               pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+" title="Solo letras y espacios" maxlength="50">
    </div>

    <div class="mb-3">
        <label>Descripción</label>
        <input type="text" class="form-control" name="descripcion" id="descripcion" maxlength="100">
    </div>

    <div class="mb-3">
        <label>Total de Jugadores</label>
        <input type="number" class="form-control" name="total_jugadores" id="total_jugadores" min="6" max="15">
    </div>

    <div class="text-end">
        <button type="submit" class="btn btn-success">Guardar</button>
        <a href="{% url 'listar_equipos' %}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}

{% block scripts %}
<script>
    $('#form-equipo').validate({
        rules: {
            nombre: {
                required: true,
                minlength: 2,
                maxlength: 50,
                pattern: /^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/
            },
            descripcion: {
                required: true,
                maxlength: 100
            },
            total_jugadores: {
                required: true,
                number: true,
                min: 6,
                max: 15
            }
        },
        messages: {
            nombre: {
                required: "Ingrese el nombre.",
                minlength: "Mínimo 2 caracteres.",
                maxlength: "Máximo 50 caracteres.",
                pattern: "Solo letras y espacios."
            },
            descripcion: {
                required: "Ingrese la descripción.",
                maxlength: "Máximo 100 caracteres."
            },
            total_jugadores: {
                required: "Ingrese el número de jugadores.",
                number: "Solo números.",
                min: "Mínimo 6 jugadores.",
                max: "Máximo 15 jugadores."
            }
        },
        errorClass: 'text-danger'
    });
</script>
{% endblock %}
